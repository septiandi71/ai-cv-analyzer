```mermaid
flowchart LR
    %% Main Components
    Client["🖥️<br/>Client"]
    
    subgraph API["🌐 API Gateway"]
        NestJS["NestJS<br/>REST API"]
    end
    
    subgraph Services["⚙️ Services"]
        Upload["Upload<br/>Service"]
        Eval["Evaluation<br/>Service"]
    end
    
    subgraph Queue["🔄 Queue"]
        Bull["Bull + Redis<br/>Job Queue"]
        Worker["Worker<br/>Processor"]
    end
    
    subgraph AI["🤖 AI/ML"]
        Gemini["Gemini 2.5<br/>LLM"]
        Ragie["Ragie<br/>RAG"]
    end
    
    subgraph Data["💾 Database"]
        Prisma["Prisma<br/>ORM"]
        DB[("PostgreSQL<br/>Supabase")]
    end

    %% Main Flow
    Client -->|"① Upload Files"| NestJS
    Client -->|"② Evaluate"| NestJS
    Client -->|"③ Get Result"| NestJS
    
    NestJS --> Upload
    NestJS --> Eval
    
    Upload --> Prisma
    Eval --> Bull
    
    Bull --> Worker
    
    Worker --> Gemini
    Worker --> Ragie
    Worker --> Prisma
    
    Prisma --> DB

    %% Styling
    classDef blue fill:#E3F2FD,stroke:#1976D2,stroke-width:2px
    classDef orange fill:#FFF3E0,stroke:#F57C00,stroke-width:2px
    classDef purple fill:#F3E5F5,stroke:#7B1FA2,stroke-width:2px
    classDef green fill:#E8F5E9,stroke:#388E3C,stroke-width:2px
    classDef yellow fill:#FFF9C4,stroke:#F9A825,stroke-width:2px
    classDef pink fill:#FCE4EC,stroke:#C2185B,stroke-width:2px

    class Client blue
    class API,NestJS orange
    class Services,Upload,Eval purple
    class Queue,Bull,Worker green
    class AI,Gemini,Ragie yellow
    class Data,Prisma,DB pink
```
